import React, { useState } from "react";
import { Easing, StyleSheet, View } from "react-native";
import MapboxGL from "@react-native-mapbox-gl/maps";
import RadioButton from "../UI/RadioButton";
import Geolocation from '@react-native-community/geolocation';



MapboxGL.setAccessToken(
  "sk.eyJ1IjoiYXZ2YWt1bW92aWQiLCJhIjoiY2wyMGQ0M2JhMHZrdDNkbnJpOTh4YXpmdyJ9.pqVM1LvwnKEatZAT-CR6Yw",
);

const startAnimateRoute = () => {
  const vec = this.state.route.__getValue();
  const ls = {
    type: "LineString",
    coordinates: vec,
  };
  const len = length(ls, { units: "meters" });
  let dest = len - 89.0;
  let pt;
  if (len === 0.0) {
    const { originalRoute } = this.state.route;
    dest = length(lineString(originalRoute), { units: "meters" });
    pt = point(originalRoute[originalRoute.length - 1]);
  } else {
    if (dest < 0) {
      dest = 0;
    }
    pt = along(ls, dest, { units: "meters" });
  }
  this.state.route
    .timing({
      toValue: { end: { point: pt } },
      duration: 2000,
      easing: Easing.linear,
    })
    .start();
};

const Map = () => {
  const [route, setRoute] = useState({
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {},
        "geometry": {
          "type": "LineString",
          "coordinates": [
            [
              36.81837,
              55.710085,
            ],
            [
              36.81877,
              55.71055,
            ],
            [
              36.819,
              55.710818,
            ],
            [
              36.819189,
              55.71104,
            ],
            [
              36.819229,
              55.711081,
            ],
            [
              36.820071,
              55.712058,
            ],
            [
              36.820265,
              55.712331,
            ],
            [
              36.820618,
              55.712903,
            ],
            [
              36.820686,
              55.713007,
            ],
            [
              36.820707,
              55.713036,
            ],
            [
              36.821113,
              55.713635,
            ],
            [
              36.821158,
              55.713701,
            ],
            [
              36.821271,
              55.713874,
            ],
            [
              36.821792,
              55.714678,
            ],
            [
              36.821851,
              55.714764,
            ],
            [
              36.822172,
              55.71524,
            ],
            [
              36.822279,
              55.715406,
            ],
            [
              36.822607,
              55.715859,
            ],
            [
              36.822759,
              55.716063,
            ],
            [
              36.82288,
              55.716225,
            ],
            [
              36.823,
              55.716366,
            ],
            [
              36.82318,
              55.716506,
            ],
            [
              36.82341,
              55.716669,
            ],
            [
              36.823714,
              55.71684,
            ],
            [
              36.824223,
              55.717137,
            ],
            [
              36.825288,
              55.717774,
            ],
            [
              36.825665,
              55.717987,
            ],
            [
              36.825841,
              55.718092,
            ],
            [
              36.826959,
              55.718758,
            ],
            [
              36.827774,
              55.71923,
            ],
            [
              36.828547,
              55.719678,
            ],
            [
              36.829492,
              55.720226,
            ],
            [
              36.830825,
              55.721013,
            ],
            [
              36.831175,
              55.72122,
            ],
            [
              36.831989,
              55.721708,
            ],
            [
              36.834652,
              55.723289,
            ],
            [
              36.837178,
              55.72471,
            ],
            [
              36.838188,
              55.725235,
            ],
            [
              36.838724,
              55.724965,
            ],
            [
              36.83926,
              55.724656,
            ],
            [
              36.839352,
              55.724625,
            ],
            [
              36.839441,
              55.724608,
            ],
            [
              36.839495,
              55.724607,
            ],
            [
              36.839542,
              55.724611,
            ],
            [
              36.839628,
              55.72463,
            ],
            [
              36.839726,
              55.724667,
            ],
            [
              36.839847,
              55.724732,
            ],
            [
              36.841215,
              55.72558,
            ],
            [
              36.841365,
              55.725677,
            ],
            [
              36.841407,
              55.7257,
            ],
            [
              36.841714,
              55.725874,
            ],
            [
              36.842047,
              55.726059,
            ],
            [
              36.84229,
              55.726158,
            ],
            [
              36.842581,
              55.726267,
            ],
            [
              36.842941,
              55.726364,
            ],
            [
              36.843064,
              55.726389,
            ],
            [
              36.843305,
              55.726438,
            ],
            [
              36.843792,
              55.726524,
            ],
            [
              36.844493,
              55.726608,
            ],
            [
              36.845176,
              55.726674,
            ],
            [
              36.845387,
              55.726695,
            ],
            [
              36.845926,
              55.726752,
            ],
            [
              36.846645,
              55.726843,
            ],
            [
              36.847127,
              55.726926,
            ],
            [
              36.847599,
              55.727049,
            ],
            [
              36.847967,
              55.727186,
            ],
            [
              36.848827,
              55.727544,
            ],
            [
              36.849279,
              55.727733,
            ],
            [
              36.851478,
              55.728645,
            ],
            [
              36.851762,
              55.72876,
            ],
            [
              36.85189,
              55.728837,
            ],
            [
              36.852148,
              55.729022,
            ],
            [
              36.852429,
              55.729436,
            ],
            [
              36.852541,
              55.729703,
            ],
            [
              36.852584,
              55.72973,
            ],
            [
              36.852682,
              55.729769,
            ],
            [
              36.852796,
              55.729799,
            ],
            [
              36.85295,
              55.729804,
            ],
            [
              36.854251,
              55.729644,
            ],
            [
              36.855084,
              55.729543,
            ],
            [
              36.855179,
              55.729533,
            ],
          ],
        },
      },
    ],
  });
  const [coordinatePosition, setCoordinatePosition] = useState([36.8253, 55.7178])
  Geolocation.getCurrentPosition(info => setCoordinatePosition([info.coords.longitude, info.coords.latitude]));
  Geolocation.watchPosition((info) => setCoordinatePosition([info.coords.longitude, info.coords.latitude]))

  const renderRoadDirections = (route) => {
    return route ? (
      <MapboxGL.ShapeSource id="routeSource" shape={route}>
        <MapboxGL.LineLayer id="routeFill" style={{ lineColor: "green", lineWidth: 3.2, lineOpacity: 1.84 }} />
      </MapboxGL.ShapeSource>
    ) : null;
  };

  const [coordinates, setCoordinates] = useState([36.8253, 55.7178]);
  const [followUserLocation, setFollowUserLocation] = useState(true);
  const toggleSwitch = () => setFollowUserLocation(previousState => !previousState);
  const [text, setText] = useState({ text: "" });
  const PROP = [
    {
      id: 1,
      route: {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [
                  36.81837,
                  55.710085,
                ],
                [
                  36.81877,
                  55.71055,
                ],
                [
                  36.819,
                  55.710818,
                ],
                [
                  36.819189,
                  55.71104,
                ],
                [
                  36.819229,
                  55.711081,
                ],
                [
                  36.820071,
                  55.712058,
                ],
                [
                  36.820265,
                  55.712331,
                ],
                [
                  36.820618,
                  55.712903,
                ],
                [
                  36.820686,
                  55.713007,
                ],
                [
                  36.820707,
                  55.713036,
                ],
                [
                  36.821113,
                  55.713635,
                ],
                [
                  36.821158,
                  55.713701,
                ],
                [
                  36.821271,
                  55.713874,
                ],
                [
                  36.821792,
                  55.714678,
                ],
                [
                  36.821851,
                  55.714764,
                ],
                [
                  36.822172,
                  55.71524,
                ],
                [
                  36.822279,
                  55.715406,
                ],
                [
                  36.822607,
                  55.715859,
                ],
                [
                  36.822759,
                  55.716063,
                ],
                [
                  36.82288,
                  55.716225,
                ],
                [
                  36.823,
                  55.716366,
                ],
                [
                  36.82318,
                  55.716506,
                ],
                [
                  36.82341,
                  55.716669,
                ],
                [
                  36.823714,
                  55.71684,
                ],
                [
                  36.824223,
                  55.717137,
                ],
                [
                  36.825288,
                  55.717774,
                ],
                [
                  36.825665,
                  55.717987,
                ],
                [
                  36.825841,
                  55.718092,
                ],
                [
                  36.826959,
                  55.718758,
                ],
                [
                  36.827774,
                  55.71923,
                ],
                [
                  36.828547,
                  55.719678,
                ],
                [
                  36.829492,
                  55.720226,
                ],
                [
                  36.830825,
                  55.721013,
                ],
                [
                  36.831175,
                  55.72122,
                ],
                [
                  36.831989,
                  55.721708,
                ],
                [
                  36.834652,
                  55.723289,
                ],
                [
                  36.837178,
                  55.72471,
                ],
                [
                  36.838188,
                  55.725235,
                ],
                [
                  36.838724,
                  55.724965,
                ],
                [
                  36.83926,
                  55.724656,
                ],
                [
                  36.839352,
                  55.724625,
                ],
                [
                  36.839441,
                  55.724608,
                ],
                [
                  36.839495,
                  55.724607,
                ],
                [
                  36.839542,
                  55.724611,
                ],
                [
                  36.839628,
                  55.72463,
                ],
                [
                  36.839726,
                  55.724667,
                ],
                [
                  36.839847,
                  55.724732,
                ],
                [
                  36.841215,
                  55.72558,
                ],
                [
                  36.841365,
                  55.725677,
                ],
                [
                  36.841407,
                  55.7257,
                ],
                [
                  36.841714,
                  55.725874,
                ],
                [
                  36.842047,
                  55.726059,
                ],
                [
                  36.84229,
                  55.726158,
                ],
                [
                  36.842581,
                  55.726267,
                ],
                [
                  36.842941,
                  55.726364,
                ],
                [
                  36.843064,
                  55.726389,
                ],
                [
                  36.843305,
                  55.726438,
                ],
                [
                  36.843792,
                  55.726524,
                ],
                [
                  36.844493,
                  55.726608,
                ],
                [
                  36.845176,
                  55.726674,
                ],
                [
                  36.845387,
                  55.726695,
                ],
                [
                  36.845926,
                  55.726752,
                ],
                [
                  36.846645,
                  55.726843,
                ],
                [
                  36.847127,
                  55.726926,
                ],
                [
                  36.847599,
                  55.727049,
                ],
                [
                  36.847967,
                  55.727186,
                ],
                [
                  36.848827,
                  55.727544,
                ],
                [
                  36.849279,
                  55.727733,
                ],
                [
                  36.851478,
                  55.728645,
                ],
                [
                  36.851762,
                  55.72876,
                ],
                [
                  36.85189,
                  55.728837,
                ],
                [
                  36.852148,
                  55.729022,
                ],
                [
                  36.852429,
                  55.729436,
                ],
                [
                  36.852541,
                  55.729703,
                ],
                [
                  36.852584,
                  55.72973,
                ],
                [
                  36.852682,
                  55.729769,
                ],
                [
                  36.852796,
                  55.729799,
                ],
                [
                  36.85295,
                  55.729804,
                ],
                [
                  36.854251,
                  55.729644,
                ],
                [
                  36.855084,
                  55.729543,
                ],
                [
                  36.855179,
                  55.729533,
                ],
              ],
            },
          },
        ],
      },
      text: "Route 1",
    },
    {
      id: 2,
      route: {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [
                  36.81837,
                  55.710085,
                ],
                [
                  36.817637,
                  55.709261,
                ],
                [
                  36.817433,
                  55.709106,
                ],
                [
                  36.817055,
                  55.708923,
                ],
                [
                  36.816348,
                  55.70865,
                ],
                [
                  36.815972,
                  55.708483,
                ],
                [
                  36.815786,
                  55.708355,
                ],
                [
                  36.815668,
                  55.708195,
                ],
                [
                  36.815411,
                  55.707514,
                ],
                [
                  36.815321,
                  55.707274,
                ],
                [
                  36.814994,
                  55.706389,
                ],
                [
                  36.814931,
                  55.70622,
                ],
                [
                  36.814799,
                  55.70586,
                ],
                [
                  36.814719,
                  55.705646,
                ],
                [
                  36.814671,
                  55.705515,
                ],
                [
                  36.814656,
                  55.705482,
                ],
                [
                  36.814584,
                  55.705322,
                ],
                [
                  36.814176,
                  55.704539,
                ],
                [
                  36.814101,
                  55.704349,
                ],
                [
                  36.814039,
                  55.704181,
                ],
                [
                  36.813978,
                  55.703848,
                ],
                [
                  36.813927,
                  55.703737,
                ],
                [
                  36.81381,
                  55.703649,
                ],
                [
                  36.813494,
                  55.703491,
                ],
                [
                  36.813264,
                  55.703373,
                ],
                [
                  36.813121,
                  55.703234,
                ],
                [
                  36.813066,
                  55.703029,
                ],
                [
                  36.813097,
                  55.702777,
                ],
                [
                  36.813139,
                  55.702288,
                ],
                [
                  36.813055,
                  55.702021,
                ],
                [
                  36.813022,
                  55.701736,
                ],
                [
                  36.813009,
                  55.70108,
                ],
                [
                  36.813017,
                  55.700624,
                ],
                [
                  36.813043,
                  55.7,
                ],
                [
                  36.813151,
                  55.699338,
                ],
                [
                  36.813178,
                  55.699176,
                ],
                [
                  36.815695,
                  55.699569,
                ],
                [
                  36.818269,
                  55.699979,
                ],
                [
                  36.822484,
                  55.700631,
                ],
                [
                  36.836097,
                  55.702769,
                ],
                [
                  36.840516,
                  55.703471,
                ],
                [
                  36.841168,
                  55.7036,
                ],
                [
                  36.841685,
                  55.703808,
                ],
                [
                  36.843959,
                  55.705144,
                ],
                [
                  36.845776,
                  55.706166,
                ],
                [
                  36.846139,
                  55.706324,
                ],
                [
                  36.846497,
                  55.706403,
                ],
                [
                  36.847008,
                  55.706444,
                ],
                [
                  36.847428,
                  55.70637,
                ],
                [
                  36.847667,
                  55.706289,
                ],
                [
                  36.848173,
                  55.706093,
                ],
                [
                  36.849581,
                  55.705346,
                ],
                [
                  36.85031,
                  55.705017,
                ],
                [
                  36.850849,
                  55.704894,
                ],
                [
                  36.851426,
                  55.704872,
                ],
                [
                  36.85185,
                  55.704894,
                ],
                [
                  36.857664,
                  55.705195,
                ],
                [
                  36.85846,
                  55.705184,
                ],
                [
                  36.858684,
                  55.705143,
                ],
                [
                  36.859371,
                  55.704993,
                ],
                [
                  36.862592,
                  55.704171,
                ],
                [
                  36.863047,
                  55.704073,
                ],
                [
                  36.865484,
                  55.703642,
                ],
                [
                  36.86567,
                  55.703598,
                ],
                [
                  36.865882,
                  55.703539,
                ],
                [
                  36.866231,
                  55.703439,
                ],
                [
                  36.868138,
                  55.702867,
                ],
                [
                  36.868409,
                  55.702804,
                ],
                [
                  36.868701,
                  55.702763,
                ],
                [
                  36.869125,
                  55.702757,
                ],
                [
                  36.869428,
                  55.702777,
                ],
                [
                  36.869726,
                  55.70281,
                ],
                [
                  36.869868,
                  55.702843,
                ],
                [
                  36.870128,
                  55.702904,
                ],
                [
                  36.870479,
                  55.703011,
                ],
                [
                  36.870667,
                  55.70312,
                ],
                [
                  36.871012,
                  55.703396,
                ],
                [
                  36.871083,
                  55.703449,
                ],
                [
                  36.871147,
                  55.703488,
                ],
                [
                  36.871216,
                  55.703517,
                ],
                [
                  36.871312,
                  55.703535,
                ],
                [
                  36.871399,
                  55.703537,
                ],
                [
                  36.87149,
                  55.703529,
                ],
                [
                  36.871638,
                  55.703499,
                ],
                [
                  36.871842,
                  55.703446,
                ],
                [
                  36.872104,
                  55.703378,
                ],
                [
                  36.872608,
                  55.703217,
                ],
                [
                  36.872943,
                  55.703087,
                ],
                [
                  36.873223,
                  55.702996,
                ],
                [
                  36.873369,
                  55.702953,
                ],
                [
                  36.873512,
                  55.702932,
                ],
                [
                  36.873654,
                  55.702921,
                ],
                [
                  36.873927,
                  55.702927,
                ],
                [
                  36.874302,
                  55.702962,
                ],
                [
                  36.874421,
                  55.702982,
                ],
                [
                  36.874599,
                  55.70302,
                ],
                [
                  36.874773,
                  55.703068,
                ],
                [
                  36.874962,
                  55.703147,
                ],
                [
                  36.876469,
                  55.704013,
                ],
                [
                  36.876592,
                  55.704082,
                ],
                [
                  36.876799,
                  55.704197,
                ],
                [
                  36.877728,
                  55.704712,
                ],
                [
                  36.878073,
                  55.704903,
                ],
                [
                  36.878136,
                  55.704851,
                ],
              ],
            },
          },
        ],
      },
      text: "Route 2",
    },
    {
      id: 3,
      route: {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [
                  36.81837,
                  55.710085,
                ],
                [
                  36.81877,
                  55.71055,
                ],
                [
                  36.819,
                  55.710818,
                ],
                [
                  36.819189,
                  55.71104,
                ],
                [
                  36.819229,
                  55.711081,
                ],
                [
                  36.820071,
                  55.712058,
                ],
                [
                  36.820265,
                  55.712331,
                ],
                [
                  36.820618,
                  55.712903,
                ],
                [
                  36.820686,
                  55.713007,
                ],
                [
                  36.820707,
                  55.713036,
                ],
                [
                  36.821113,
                  55.713635,
                ],
                [
                  36.821158,
                  55.713701,
                ],
                [
                  36.821271,
                  55.713874,
                ],
                [
                  36.821792,
                  55.714678,
                ],
                [
                  36.821851,
                  55.714764,
                ],
                [
                  36.822172,
                  55.71524,
                ],
                [
                  36.822279,
                  55.715406,
                ],
                [
                  36.822607,
                  55.715859,
                ],
                [
                  36.822759,
                  55.716063,
                ],
                [
                  36.82288,
                  55.716225,
                ],
                [
                  36.823,
                  55.716366,
                ],
                [
                  36.82318,
                  55.716506,
                ],
                [
                  36.82341,
                  55.716669,
                ],
                [
                  36.823714,
                  55.71684,
                ],
                [
                  36.824223,
                  55.717137,
                ],
                [
                  36.825288,
                  55.717774,
                ],
                [
                  36.825665,
                  55.717987,
                ],
                [
                  36.825841,
                  55.718092,
                ],
                [
                  36.826959,
                  55.718758,
                ],
                [
                  36.827774,
                  55.71923,
                ],
                [
                  36.828547,
                  55.719678,
                ],
                [
                  36.829492,
                  55.720226,
                ],
                [
                  36.830825,
                  55.721013,
                ],
                [
                  36.831175,
                  55.72122,
                ],
                [
                  36.831989,
                  55.721708,
                ],
                [
                  36.834652,
                  55.723289,
                ],
                [
                  36.837178,
                  55.72471,
                ],
                [
                  36.838188,
                  55.725235,
                ],
                [
                  36.838724,
                  55.724965,
                ],
                [
                  36.83926,
                  55.724656,
                ],
                [
                  36.839352,
                  55.724625,
                ],
                [
                  36.839441,
                  55.724608,
                ],
                [
                  36.839495,
                  55.724607,
                ],
                [
                  36.839542,
                  55.724611,
                ],
                [
                  36.839628,
                  55.72463,
                ],
                [
                  36.839726,
                  55.724667,
                ],
                [
                  36.839847,
                  55.724732,
                ],
                [
                  36.841215,
                  55.72558,
                ],
                [
                  36.841365,
                  55.725677,
                ],
                [
                  36.841407,
                  55.7257,
                ],
                [
                  36.841714,
                  55.725874,
                ],
                [
                  36.842047,
                  55.726059,
                ],
                [
                  36.84229,
                  55.726158,
                ],
                [
                  36.842581,
                  55.726267,
                ],
                [
                  36.842941,
                  55.726364,
                ],
                [
                  36.843064,
                  55.726389,
                ],
                [
                  36.843305,
                  55.726438,
                ],
                [
                  36.843792,
                  55.726524,
                ],
                [
                  36.844493,
                  55.726608,
                ],
                [
                  36.845176,
                  55.726674,
                ],
                [
                  36.845387,
                  55.726695,
                ],
                [
                  36.845926,
                  55.726752,
                ],
                [
                  36.846645,
                  55.726843,
                ],
                [
                  36.847127,
                  55.726926,
                ],
                [
                  36.847599,
                  55.727049,
                ],
                [
                  36.847967,
                  55.727186,
                ],
                [
                  36.848827,
                  55.727544,
                ],
                [
                  36.849279,
                  55.727733,
                ],
                [
                  36.851478,
                  55.728645,
                ],
                [
                  36.851762,
                  55.72876,
                ],
                [
                  36.85189,
                  55.728837,
                ],
                [
                  36.852148,
                  55.729022,
                ],
                [
                  36.852429,
                  55.729436,
                ],
                [
                  36.852541,
                  55.729703,
                ],
                [
                  36.852584,
                  55.72973,
                ],
                [
                  36.852682,
                  55.729769,
                ],
                [
                  36.852796,
                  55.729799,
                ],
                [
                  36.85295,
                  55.729804,
                ],
                [
                  36.854251,
                  55.729644,
                ],
                [
                  36.855084,
                  55.729543,
                ],
                [
                  36.855179,
                  55.729533,
                ],
                [
                  36.85533,
                  55.729981,
                ],
                [
                  36.855364,
                  55.730081,
                ],
                [
                  36.855239,
                  55.730096,
                ],
                [
                  36.852949,
                  55.730379,
                ],
                [
                  36.85278,
                  55.7304,
                ],
                [
                  36.851865,
                  55.730524,
                ],
                [
                  36.851222,
                  55.730591,
                ],
                [
                  36.850894,
                  55.730563,
                ],
                [
                  36.850701,
                  55.730527,
                ],
                [
                  36.850545,
                  55.730484,
                ],
                [
                  36.850101,
                  55.73037,
                ],
                [
                  36.849764,
                  55.730352,
                ],
                [
                  36.849402,
                  55.73039,
                ],
                [
                  36.848261,
                  55.73082,
                ],
                [
                  36.847699,
                  55.730962,
                ],
                [
                  36.846488,
                  55.731081,
                ],
                [
                  36.845869,
                  55.731119,
                ],
                [
                  36.845619,
                  55.731121,
                ],
                [
                  36.845275,
                  55.731149,
                ],
                [
                  36.844838,
                  55.731211,
                ],
                [
                  36.843245,
                  55.731526,
                ],
                [
                  36.842479,
                  55.731722,
                ],
                [
                  36.841568,
                  55.731818,
                ],
                [
                  36.840104,
                  55.731868,
                ],
                [
                  36.838065,
                  55.731934,
                ],
                [
                  36.837202,
                  55.731944,
                ],
                [
                  36.836481,
                  55.731885,
                ],
                [
                  36.835988,
                  55.731834,
                ],
                [
                  36.835482,
                  55.731772,
                ],
                [
                  36.834862,
                  55.731723,
                ],
                [
                  36.834469,
                  55.731723,
                ],
                [
                  36.833889,
                  55.731779,
                ],
                [
                  36.832701,
                  55.731935,
                ],
                [
                  36.832201,
                  55.731975,
                ],
                [
                  36.831717,
                  55.73198,
                ],
                [
                  36.83089,
                  55.731868,
                ],
                [
                  36.829764,
                  55.731632,
                ],
                [
                  36.828209,
                  55.731294,
                ],
                [
                  36.825357,
                  55.730367,
                ],
                [
                  36.823886,
                  55.72984,
                ],
                [
                  36.822426,
                  55.729228,
                ],
                [
                  36.822028,
                  55.729052,
                ],
                [
                  36.819999,
                  55.728152,
                ],
                [
                  36.819482,
                  55.727805,
                ],
                [
                  36.819245,
                  55.727599,
                ],
                [
                  36.819193,
                  55.727559,
                ],
                [
                  36.819081,
                  55.727469,
                ],
                [
                  36.818674,
                  55.727092,
                ],
                [
                  36.817619,
                  55.72613,
                ],
                [
                  36.81681,
                  55.725393,
                ],
                [
                  36.816098,
                  55.724744,
                ],
                [
                  36.815701,
                  55.724376,
                ],
                [
                  36.815409,
                  55.724146,
                ],
                [
                  36.815108,
                  55.723939,
                ],
                [
                  36.81489,
                  55.723811,
                ],
                [
                  36.814575,
                  55.72365,
                ],
                [
                  36.813907,
                  55.723399,
                ],
                [
                  36.813013,
                  55.723095,
                ],
                [
                  36.811779,
                  55.722718,
                ],
                [
                  36.811626,
                  55.722671,
                ],
                [
                  36.811555,
                  55.72265,
                ],
                [
                  36.810394,
                  55.722293,
                ],
                [
                  36.809853,
                  55.722163,
                ],
                [
                  36.809326,
                  55.722081,
                ],
                [
                  36.809015,
                  55.722055,
                ],
                [
                  36.80839,
                  55.722016,
                ],
                [
                  36.808125,
                  55.722007,
                ],
                [
                  36.807193,
                  55.721977,
                ],
                [
                  36.806327,
                  55.721991,
                ],
                [
                  36.805721,
                  55.722042,
                ],
                [
                  36.80464,
                  55.722162,
                ],
                [
                  36.804525,
                  55.722173,
                ],
                [
                  36.804247,
                  55.722206,
                ],
                [
                  36.804357,
                  55.722389,
                ],
                [
                  36.804502,
                  55.722538,
                ],
                [
                  36.80519,
                  55.722914,
                ],
                [
                  36.803956,
                  55.723579,
                ],
                [
                  36.801416,
                  55.725053,
                ],
                [
                  36.800449,
                  55.724482,
                ],
                [
                  36.800181,
                  55.72427,
                ],
                [
                  36.800136,
                  55.724218,
                ],
              ],
            },
          },
        ],
      },
      text: "Route 3",
    },
    {
      id: 4,
      route: {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "properties": {},
            "geometry": {
              "type": "LineString",
              "coordinates": [
                [
                  36.81837,
                  55.710085,
                ],
                [
                  36.817637,
                  55.709261,
                ],
                [
                  36.817433,
                  55.709106,
                ],
                [
                  36.817055,
                  55.708923,
                ],
                [
                  36.816348,
                  55.70865,
                ],
                [
                  36.815972,
                  55.708483,
                ],
                [
                  36.815786,
                  55.708355,
                ],
                [
                  36.815668,
                  55.708195,
                ],
                [
                  36.815411,
                  55.707514,
                ],
                [
                  36.815321,
                  55.707274,
                ],
                [
                  36.814994,
                  55.706389,
                ],
                [
                  36.814931,
                  55.70622,
                ],
                [
                  36.814799,
                  55.70586,
                ],
                [
                  36.814719,
                  55.705646,
                ],
                [
                  36.814671,
                  55.705515,
                ],
                [
                  36.814656,
                  55.705482,
                ],
                [
                  36.814584,
                  55.705322,
                ],
                [
                  36.814176,
                  55.704539,
                ],
                [
                  36.814101,
                  55.704349,
                ],
                [
                  36.814039,
                  55.704181,
                ],
                [
                  36.813978,
                  55.703848,
                ],
                [
                  36.813927,
                  55.703737,
                ],
                [
                  36.81381,
                  55.703649,
                ],
                [
                  36.813494,
                  55.703491,
                ],
                [
                  36.813264,
                  55.703373,
                ],
                [
                  36.813121,
                  55.703234,
                ],
                [
                  36.813066,
                  55.703029,
                ],
                [
                  36.813097,
                  55.702777,
                ],
                [
                  36.813139,
                  55.702288,
                ],
                [
                  36.813055,
                  55.702021,
                ],
                [
                  36.813022,
                  55.701736,
                ],
                [
                  36.813009,
                  55.70108,
                ],
                [
                  36.813017,
                  55.700624,
                ],
                [
                  36.813043,
                  55.7,
                ],
                [
                  36.813151,
                  55.699338,
                ],
                [
                  36.813178,
                  55.699176,
                ],
                [
                  36.812662,
                  55.699139,
                ],
                [
                  36.811994,
                  55.699155,
                ],
                [
                  36.811183,
                  55.699221,
                ],
                [
                  36.806951,
                  55.699846,
                ],
                [
                  36.806015,
                  55.7,
                ],
                [
                  36.805223,
                  55.70006,
                ],
                [
                  36.804554,
                  55.700046,
                ],
                [
                  36.803695,
                  55.69995,
                ],
                [
                  36.802648,
                  55.699812,
                ],
                [
                  36.801072,
                  55.699613,
                ],
                [
                  36.800624,
                  55.699539,
                ],
                [
                  36.800055,
                  55.699395,
                ],
                [
                  36.799462,
                  55.699228,
                ],
                [
                  36.79857,
                  55.698907,
                ],
                [
                  36.797603,
                  55.698559,
                ],
                [
                  36.79722,
                  55.698505,
                ],
                [
                  36.796842,
                  55.698552,
                ],
                [
                  36.796516,
                  55.698693,
                ],
                [
                  36.796326,
                  55.698982,
                ],
                [
                  36.796086,
                  55.699462,
                ],
                [
                  36.795837,
                  55.699741,
                ],
                [
                  36.795618,
                  55.699871,
                ],
                [
                  36.795331,
                  55.700003,
                ],
                [
                  36.794731,
                  55.700247,
                ],
                [
                  36.793885,
                  55.700562,
                ],
                [
                  36.792857,
                  55.701013,
                ],
                [
                  36.79191,
                  55.701446,
                ],
                [
                  36.791356,
                  55.701708,
                ],
                [
                  36.790756,
                  55.701949,
                ],
                [
                  36.790326,
                  55.702063,
                ],
                [
                  36.789806,
                  55.70216,
                ],
                [
                  36.788892,
                  55.702295,
                ],
                [
                  36.78823,
                  55.70237,
                ],
                [
                  36.788062,
                  55.702391,
                ],
                [
                  36.787364,
                  55.702485,
                ],
                [
                  36.787093,
                  55.702519,
                ],
                [
                  36.786921,
                  55.702541,
                ],
                [
                  36.786704,
                  55.702564,
                ],
                [
                  36.786402,
                  55.702597,
                ],
                [
                  36.78632,
                  55.702602,
                ],
                [
                  36.785685,
                  55.702638,
                ],
                [
                  36.784933,
                  55.702667,
                ],
                [
                  36.784403,
                  55.702686,
                ],
                [
                  36.78171,
                  55.702778,
                ],
                [
                  36.780144,
                  55.702839,
                ],
                [
                  36.779543,
                  55.702875,
                ],
                [
                  36.779028,
                  55.702924,
                ],
                [
                  36.778618,
                  55.70298,
                ],
                [
                  36.778196,
                  55.703048,
                ],
                [
                  36.777512,
                  55.703199,
                ],
                [
                  36.776781,
                  55.703384,
                ],
                [
                  36.776219,
                  55.70362,
                ],
                [
                  36.77577,
                  55.703771,
                ],
                [
                  36.775075,
                  55.704003,
                ],
                [
                  36.774618,
                  55.703555,
                ],
                [
                  36.77392,
                  55.702859,
                ],
                [
                  36.773725,
                  55.702663,
                ],
                [
                  36.773553,
                  55.702458,
                ],
                [
                  36.773503,
                  55.702388,
                ],
                [
                  36.773477,
                  55.702338,
                ],
                [
                  36.773454,
                  55.702273,
                ],
                [
                  36.773436,
                  55.702182,
                ],
                [
                  36.773427,
                  55.702111,
                ],
                [
                  36.773432,
                  55.70203,
                ],
                [
                  36.773439,
                  55.701943,
                ],
                [
                  36.773462,
                  55.701834,
                ],
                [
                  36.773541,
                  55.701565,
                ],
                [
                  36.773719,
                  55.701002,
                ],
                [
                  36.77386,
                  55.700587,
                ],
                [
                  36.774006,
                  55.700176,
                ],
                [
                  36.774223,
                  55.699567,
                ],
                [
                  36.774354,
                  55.699192,
                ],
                [
                  36.774376,
                  55.699133,
                ],
                [
                  36.7744,
                  55.699061,
                ],
                [
                  36.774424,
                  55.698961,
                ],
                [
                  36.77445,
                  55.698828,
                ],
                [
                  36.774465,
                  55.698689,
                ],
                [
                  36.774463,
                  55.698573,
                ],
                [
                  36.77445,
                  55.698406,
                ],
                [
                  36.774435,
                  55.698323,
                ],
                [
                  36.774411,
                  55.698239,
                ],
                [
                  36.774303,
                  55.698,
                ],
                [
                  36.774093,
                  55.69761,
                ],
                [
                  36.773732,
                  55.696943,
                ],
                [
                  36.773714,
                  55.696911,
                ],
              ],
            },
          },
        ],
      },
      text: "Route 4",
    },
  ];
  return (
    <View style={styles.page}>
      <View style={styles.container}>
        <RadioButton prop={PROP} setRoute={setRoute} />
        <MapboxGL.MapView
          userTrackingMode={1}
          style={styles.map}
          attributionPosition={{ bottom: 10, left: 10 }}
          logoEnabled={false}
          showUserLocation={true}
          surfaceView={true}
          onPress={(feature) => {
            // console.log('Coords:', feature.geometry.coordinates)
            // setCoordinates(feature.geometry.coordinates)
          }}
        >
          <MapboxGL.UserLocation renderMode={"native"} onUpdate={(e) => {

          }} visible={true} />
          {renderRoadDirections(route)}
          <MapboxGL.Camera animationMode={"flyTo"}
                           animationDuration={3000}
                           zoomLevel={16}
                           // centerCoordinate={coordinates}
                           followUserLocation={followUserLocation}
          />
           <MapboxGL.PointAnnotation id={'pa'} coordinate={coordinatePosition} />
        </MapboxGL.MapView>
      </View>
    </View>
  );
};
const styles = StyleSheet.create({
  page: {
    flex: 1,
  },
  container: {
    height: "100%",
    width: "100%",
    flex: 1,
  },
  map: {
    flex: 1,
  },
});

export default Map;
